---
description: Rules for layout components (Header, Footer, Navigation)
globs: src/components/layout/**
alwaysApply: false
---

# Layout Components Guidelines

This folder contains **layout components** - structural components that provide consistent navigation and framing across the landing page.

---

## Purpose

Layout components define the structural shell of the page:
- **Header** - Top navigation with logo, menu, and CTAs
- **Footer** - Bottom section with links, social media, legal
- **Navigation** - Menu items and mobile navigation
- **Container** - Consistent max-width wrapper

---

## Core Principles

### Consistency

Layout components appear on every page/view and must be:
- Visually consistent
- Predictable in behavior
- Performant (they're always visible)

### Accessibility First

Navigation is critical for accessibility:

```tsx
// ✅ Good - Semantic and accessible
<header role="banner">
  <nav aria-label="Main navigation">
    <ul>
      <li><a href="#features">Features</a></li>
    </ul>
  </nav>
</header>

// Footer
<footer role="contentinfo">
  {/* Footer content */}
</footer>
```

---

## Header Component Structure

```tsx
'use client';

import { useState } from 'react';
import Link from 'next/link';
import { motion, AnimatePresence } from 'framer-motion';
import { Menu, X } from 'lucide-react';
import { Button } from '@/components/ui/Button';
import { Container } from '@/components/ui/Container';
import { NAV_LINKS } from '@/constants';

export function Header() {
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

  return (
    <header className="fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b">
      <Container>
        <div className="flex items-center justify-between h-16">
          {/* Logo */}
          <Link href="/" className="font-bold text-xl">
            Coddlers
          </Link>

          {/* Desktop Navigation */}
          <nav className="hidden md:flex items-center gap-8" aria-label="Main navigation">
            {NAV_LINKS.map((link) => (
              <a
                key={link.href}
                href={link.href}
                className="text-muted-foreground hover:text-foreground transition-colors"
              >
                {link.label}
              </a>
            ))}
          </nav>

          {/* CTA Button */}
          <div className="hidden md:block">
            <Button>Get Started</Button>
          </div>

          {/* Mobile Menu Toggle */}
          <button
            className="md:hidden"
            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
            aria-expanded={isMobileMenuOpen}
            aria-label="Toggle menu"
          >
            {isMobileMenuOpen ? <X /> : <Menu />}
          </button>
        </div>

        {/* Mobile Menu */}
        <AnimatePresence>
          {isMobileMenuOpen && (
            <MobileMenu onClose={() => setIsMobileMenuOpen(false)} />
          )}
        </AnimatePresence>
      </Container>
    </header>
  );
}
```

---

## Footer Component Structure

```tsx
import Link from 'next/link';
import { Container } from '@/components/ui/Container';
import { FOOTER_LINKS, SOCIAL_LINKS } from '@/constants';

export function Footer() {
  const currentYear = new Date().getFullYear();

  return (
    <footer className="bg-muted py-12 border-t" role="contentinfo">
      <Container>
        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
          {/* Brand */}
          <div>
            <h3 className="font-bold text-lg mb-4">Coddlers</h3>
            <p className="text-muted-foreground text-sm">
              Building better software, together.
            </p>
          </div>

          {/* Link Columns */}
          {FOOTER_LINKS.map((column) => (
            <div key={column.title}>
              <h4 className="font-semibold mb-4">{column.title}</h4>
              <ul className="space-y-2">
                {column.links.map((link) => (
                  <li key={link.href}>
                    <Link
                      href={link.href}
                      className="text-muted-foreground hover:text-foreground text-sm"
                    >
                      {link.label}
                    </Link>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>

        {/* Bottom Bar */}
        <div className="mt-12 pt-8 border-t flex flex-col md:flex-row justify-between items-center gap-4">
          <p className="text-muted-foreground text-sm">
            © {currentYear} Coddlers. All rights reserved.
          </p>
          <div className="flex gap-4">
            {/* Social Icons */}
          </div>
        </div>
      </Container>
    </footer>
  );
}
```

---

## Responsive Navigation Pattern

### Desktop (md and up)
- Horizontal navigation in header
- All links visible
- CTA button visible

### Mobile (below md)
- Hamburger menu icon
- Full-screen or slide-out mobile menu
- Touch-friendly tap targets (min 44px)

```tsx
// Mobile menu with animation
<motion.nav
  initial={{ opacity: 0, height: 0 }}
  animate={{ opacity: 1, height: 'auto' }}
  exit={{ opacity: 0, height: 0 }}
  className="md:hidden"
>
  {/* Mobile navigation links */}
</motion.nav>
```

---

## Sticky/Fixed Header Considerations

```tsx
// Fixed header with backdrop blur
<header className={cn(
  'fixed top-0 left-0 right-0 z-50',
  'bg-background/80 backdrop-blur-md',
  'border-b border-border/50',
  'transition-all duration-300',
  isScrolled && 'shadow-sm'
)}>
```

### Scroll Detection

```tsx
const [isScrolled, setIsScrolled] = useState(false);

useEffect(() => {
  const handleScroll = () => {
    setIsScrolled(window.scrollY > 10);
  };
  
  window.addEventListener('scroll', handleScroll, { passive: true });
  return () => window.removeEventListener('scroll', handleScroll);
}, []);
```

---

## Container Component

Provide consistent max-width and padding:

```tsx
interface ContainerProps {
  children: React.ReactNode;
  className?: string;
}

export function Container({ children, className }: ContainerProps) {
  return (
    <div className={cn(
      'mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8',
      className
    )}>
      {children}
    </div>
  );
}
```

---

## Accessibility Checklist

- [ ] Keyboard navigation works for all menu items
- [ ] Focus is trapped in mobile menu when open
- [ ] Escape key closes mobile menu
- [ ] Skip to main content link exists
- [ ] ARIA labels on navigation elements
- [ ] Mobile menu button has aria-expanded
